# Magic Transporters

Magic Transporters is a RESTful API service that manages `Magic Movers` and `Magic Items`. This API allows users to add, load, start missions, and track top movers for magical transportation missions.

## Table of Contents

- [Getting Started](#getting-started)
- [Prerequisites](#prerequisites)
- [Environment Variables](#environment-variables)
- [Running the Application](#running-the-application)
- [Testing the Application](#testing-the-application)
- [API Documentation](#api-documentation)
- [Folder Structure](#folder-structure)
- [Usage](#usage)

## Getting Started

This API is built with Node.js, Express.js, TypeScript, and MongoDB. It uses Swagger for API documentation.

## Prerequisites

Make sure you have the following installed on your system:

- [Node.js](https://nodejs.org/) (v14 or higher)
- [MongoDB](https://www.mongodb.com/)
- [TypeScript](https://www.typescriptlang.org/)

## Environment Variables

Create a .env file in the root directory and add the following environment variables:
PORT=3030
DATABASE_URI=mongodb://localhost:27017/MagicTransporters
URL=http://localhost:3030/

## Running the Application

Install packages, use the following command:
npm install

To start the server, use the following command:
npm start
The server should be running at http://localhost:3030.

To start in development mode with automatic reloading, use:
npm run dev

## Testing the Application

To run tests for the application:
npm test
This will run the test suite using Jest (or your configured test framework). By default, Jest will look for files with .test.ts or .spec.ts extensions inside the test/ folder.

To run a specific test file:
npm test <path-to-test-file>

To view code coverage reports:
npm test --coverage
Make sure Jest is properly configured by checking the jest.config.ts file for any custom settings or configurations.

## API Documentation

The API is documented using Swagger. After running the server, you can access the Swagger UI at:

[http://localhost:3030/api-docs](http://localhost:3030/api-docs)

Swagger allows you to interact with the API endpoints, view request/response formats, and test the API directly from the UI.

## Folder Structure

Here's an overview of the main folders and files in this project:
magic-transporters/
├── coverage/ # Code coverage reports generated by Jest
│ ├── lcov-report/ # HTML report for coverage
│ └── ...
├── logs/ # Log files for application activity
│ ├── combined.log
│ └── error.log
├── node_modules/ # Node dependencies (generated by npm install)
├── src/ # Source code of the application
│ ├── config/ # Database configuration files
│ ├── controllers/ # Controller files for request handling
│ ├── interfaces/ # TypeScript interfaces
│ ├── middlewares/ # Middleware for request validation
│ ├── models/ # Mongoose models for database collections
│ ├── routes/ # API routes
│ ├── services/ # Business logic services
│ ├── utils/ # Utility functions
│ ├── validations/ # Validation schemas
│ ├── index.ts # Entry point of the application
│ └── swagger.ts # Swagger configuration file
├── test/ # Testing-related files and folders
│ └── unit/ # Unit tests for individual modules
│ ├── magicItemsController.test.ts # Unit test for magic items controller
│ └── magicMoverController.test.ts # Unit test for magic mover controller
├── .env # Environment variables
├── jest.config.ts # Configuration file for Jest
├── nodemon.json # Nodemon configuration file (for auto-restarting during development)
├── package-lock.json # Lock file for npm dependencies
├── package.json # Node dependencies and scripts
├── README.md # Project documentation
└── tsconfig.json # TypeScript configuration

## Usage

Endpoints
Here’s a brief overview of some available endpoints:

POST /api/v1/movers/add: Add a new magic mover
POST /api/v1/movers/load: Load items onto a magic mover
POST /api/v1/movers/start-mission: Start a mission for a magic mover
POST /api/v1/movers/end-mission: End a mission for a magic mover
GET /api/v1/movers/top-movers: Get the top movers sorted by completed missions
Refer to the Swagger documentation for details on request and response formats.
